language: python
python:
- "2.7"
- "3.4"
branches:
  only:
  - master
virtualenv:
  system_site_packages: true
before_install:
- sudo apt-get update -qq
install:
- if [[ $TRAVIS_PYTHON_VERSION == "2.7" ]]; then sudo apt-get install python-numpy python-scipy; fi
- if [[ $TRAVIS_PYTHON_VERSION == "3.4" ]]; then sudo apt-get install python3-numpy python3-scipy; fi
- travis_retry python setup.py develop
- python --version
- pip freeze
script:
- travis_wait python setup.py test
cache: apt
